# Скрипт для сбора логов с рабочих узлов кластера MK8S.

## Описание 
Скрипт будет выполнять следующее: 

1. Анализирует входные параметры и на их основании подключается к одной или последовательно ко всем нодам кластера и собирает логи начиная с указанного момента времени или все доступные.
2. Скрипт в качестве первого параметра принимает имя ноды или значение "all" (регистр не учитывается).
3. Вторым параметром можно указать дату и время с которой интересует сбор логов. Если второй параметр опущен, то логи будут собираться начиная с 00 часов текущих суток. Время указывается в UTC таймзоне.
4. С нод забираются syslog и логи SCI драйвера. Отбор логов осуществляется на основании времени модификации файлов с логами, поэтому они могут содержать события до указанного момента времени.
5. Логи сохраняются в текущем каталоге, в автоматически создаваемые папки с именами нод.

## Требования

* Установленная утилита kubectl, подключенная к кластеру MK8S.
* Для работы скрипта требуется права с доступом к списку нод.
* Права записи в текущую папку 

## Примеры использования

1) Get logs from all node 
```
./capture_nodes_logs.sh
```
2) Get logs from node cl12cdps8ti4t7qlhuq0-ygif 
```
./capture_nodes_logs.sh cl12cdps8ti4t7qlhuq0-ygif
```
3) Get logs from all nodes since 2023-05-26 10:00:00 
```
./capture_nodes_logs.sh ALL "2023-05-26 10:00:00"
```
